<div
  class="shadow-lg container-fluid d-flex flex-row justify-content-lg-center pt-5 pb-5"
>
  <div class="jumbotron shadow-lg bg-light col-xs-12 col-lg-4 pt-2 px-3">
    <!-- <div class="card mx-1 my-5 col-xs-12 col-lg-6 p-1  jumbotron jumbotron-fluid "> -->
    <h1 class="d-flex flex-row justify-content-center mt-3 mb-4 mx-auto">
      <i class="fas fa-sign-in-alt text-success mx-auto" style="size: 60px"></i>
    </h1>
    <!-- <div class="card-body jumbotron jumbotron-fluid"> -->
    <h5 class="card-title bg-success text-light d-flex justify-content-center">
      <span class="p-2">Login</span>
    </h5>
      <form [formGroup]="userForm" (ngSubmit)="login()">

        <div class="form-group ">
          <label
            for="main_contact_number"
            [ngClass]="fval.main_contact_number.valid ? 'text-success' : ''"
            >Enter Mobile Number<i
              *ngIf="fval.main_contact_number.valid"
              class="material-icons"
              >check_circle</i
            ></label
          >
          <div class="input-group mb-2">
            <div class="input-group-prepend">
              <div class="input-group-text">
                <i class="fas fa-phone text-warning mx-auto" style="size: 50px">
                </i>
              </div>
            </div>
            <input
              id="main_contact_number"
              formControlName="main_contact_number"
              type="text"
              class="form-control"
              [ngClass]="{
                'is-invalid':
                  (fval.main_contact_number.touched ||
                    fval.main_contact_number.dirty) &&
                  fval.main_contact_number.errors
              }"
              placeholder="Mobile number as 07XXXXXXXX"
              autocomplete="off"
                  (blur)='changeUserRoleValue($event)'
              />
          </div>
          <div
            class="text-danger col"
            *ngIf="
              (fval.main_contact_number.touched ||
                fval.main_contact_number.dirty) &&
              fval.main_contact_number.errors?.required
            "
          >
            The main mobile number is required
          </div>
          <div
            class="text-danger col"
            *ngIf="
              (fval.main_contact_number.touched ||
                fval.main_contact_number.dirty) &&
              fval.main_contact_number.errors?.hasNumber
            "
          >
            The main mobile number should be in digits/numbers
          </div>
          <div
            class="text-danger col"
            *ngIf="
              (fval.main_contact_number.touched ||
                fval.main_contact_number.dirty) &&
              fval.main_contact_number.errors?.maxlength
            "
          >
            The main mobile number should not exceed 10 digits
          </div>
          <div
            class="text-danger col"
            *ngIf="
              (fval.main_contact_number.touched ||
                fval.main_contact_number.dirty) &&
              fval.main_contact_number.errors?.minlength
            "
          >
            The main mobile number should have atleast 10 digits
          </div>
        </div>

        <div class="form-group" *ngIf='userRolesPresent'>
          <label
            for="user_role_name"
            [ngClass]="fval.user_role_name.valid ? 'text-success' : ''"
            ><i *ngIf="fval.user_role_name.valid" class="material-icons"
              >check_circle</i
            >User Role:</label
          >
          <select
            formControlName="user_role_name"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                (fval.user_role_name.touched || fval.user_role_name.dirty) &&
                fval.user_role_name.errors
            }"
            autocomplete="off"
            placeholder="Select The User Role"
            (input)="setRoleId($event)"
          >
            <option disabled></option>
            <option *ngFor="let item3 of userRoleInfo1">{{
              item3.user_role_name
            }}</option>
          </select>

          <div
            class="text-danger col"
            *ngIf="
              (fval.user_role_name.touched || fval.user_role_name.dirty) &&
              fval.user_role_name.errors?.required
            "
          >
            The user_role_name is required
          </div>

          <div
            class="text-danger col"
            *ngIf="
              (fval.user_role_name.touched || fval.user_role_name.dirty) &&
              fval.user_role_name.errors?.belongTouser_role_names
            "
          >
            Please select a valid user_role_name
          </div>

          <ngx-alerts></ngx-alerts>
        </div>

        <div class="form-group">
          <label
            for="password"
            [ngClass]="fval.password.valid ? 'text-success' : ''"
            >Password<i *ngIf="fval.password.valid" class="material-icons"
              >check_circle</i
            ></label
          >

          <div class="input-group mb-2">
            <div class="input-group-prepend">
              <div class="input-group-text">
                <i
                  class="fas fa-lock text-warning mx-auto"
                  style="size: 50px"
                ></i>
              </div>
            </div>
            <input
              id="password"
              formControlName="password"
              type="password"
              class="form-control"
              [ngClass]="{
                'is-invalid':
                  (fval.password.touched || fval.password.dirty) &&
                  fval.password.errors
              }"
              placeholder="Password"
              autocomplete="off"
            />
          </div>
          <label
            class="text-danger col"
            *ngIf="
              (fval.password.touched || fval.password.dirty) &&
              fval.password.errors?.required
            "
          >
            Password is Required!
          </label>
        </div>

        <div class="row d-flex flex-row">
          <div class="col-12 pb-5">
            <div class="form-group">
              <button
                type="submit"
                class="btn btn-success"
                [disabled]="!userForm.valid"
              >
                Login
              </button>

              <ngx-spinner
                class="bg-warning bg-success"
                size="small"
                type="ball-spin"
              >
                <h4 class="text-light">Loading...</h4>
              </ngx-spinner>

              <ngx-alerts> </ngx-alerts>
            </div>
          </div>
          <div class="col-5"></div>
          
        </div>

        <div class="row">
          <label class="col" *ngIf="errored" class="text-danger">
            <i class="material-icons">cancel</i>

            <ngx-alerts></ngx-alerts>
          </label>
        </div>
        <div class="row">
          <div class="col" *ngIf="posted" class="text-success">
            <i class="material-icons">check_circle</i>
            <ngx-alerts></ngx-alerts>
          </div>
        </div>


      </form>

    </div>
  </div>
